server:
  port: 8080

spring:
  profiles:
    active: dev

  application:
    name: aimin-gateway

  config:
    import:
      - nacos:${spring.application.name}-${spring.profiles.active}.yml
      - classpath:redis.yml
      - classpath:base.yml
  cloud:
    gateway:
      routes:
        - id: aimin-auth-server
          uri: lb://aimin-auth
          predicates:
            - Path=/aimin-auth/**

        - id: aimin-drug-server
          uri: lb://aimin-drug
          predicates:
            - Path=/aimin-drug/**

        - id: aimin-admin-server
          uri: lb://aimin-admin
          predicates:
            - Path=/aimin-admin/**

        - id: aimin-search-server
          uri: lb://aimin-search
          predicates:
            - Path=/aimin-search/**

        - id: aimin-ai-server
          uri: lb://aimin-ai
          predicates:
            - Path=/aimin-ai/**

security:
  ignore:
    whites:
      - /aimin-auth/public/wx/token
      - /aimin-admin/public/auth/token
      - /aimin-admin/public/auth/captchaVerify