server:
  port: 8080

spring:
  profiles:
    active: dev

  application:
    name: aimin-gateway

  config:
    import:
      - nacos:${spring.application.name}-${spring.profiles.active}.yml
      - classpath:redis.yml
      - classpath:base.yml
  cloud:
    #nacos:
    #  server-addr: 8.141.30.139:8848
    #  discovery:
    #    namespace: c2b3b47a-098e-4609-91a8-3e97b59405cf
    #    group: DEFAULT_GROUP
    #  config:
    #    namespace: c2b3b47a-098e-4609-91a8-3e97b59405cf
    #    group: DEFAULT_GROUP
    #    file-extension: yaml

    gateway:
      routes:
        - id: aimin-auth-server
          uri: lb://aimin-auth
          predicates:
            - Path=/aimin-auth/**

        - id: aimin-drug-server
          uri: lb://aimin-drug
          predicates:
            - Path=/aimin-drug/**

        - id: aimin-admin-server
          uri: lb://aimin-admin
          predicates:
            - Path=/aimin-admin/**

security:
  ignore:
    whites:
      - /aimin-auth/public/wx/token
      - /aimin-admin/public/auth/token
      - /aimin-admin/public/auth/captchaVerify